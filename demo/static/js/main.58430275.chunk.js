(this.webpackJsonptetribass=this.webpackJsonptetribass||[]).push([[0],{62:function(e,t,i){},63:function(e,t,i){},84:function(e,t,i){},85:function(e,t,i){},89:function(e,t,i){},90:function(e,t,i){"use strict";i.r(t);var r,a,n,s=i(0),c=i(1),o=i.n(c),l=i(21),d=i.n(l),u=i(37),h=i(2),m=i(9),b=i(10),v=i(13),p=i(12),f=i(11),j=i(35),O=(i(62),function(){return Object(s.jsxs)("div",{className:"form",children:[Object(s.jsx)("h1",{children:"TetriBASS"}),Object(s.jsxs)("form",{children:[Object(s.jsx)("div",{className:"mb-2",children:Object(s.jsxs)("label",{className:"form-label",htmlFor:"username-input",children:["Email address",Object(s.jsx)("input",{type:"email",className:"form-control-custom",id:"username-input"})]})}),Object(s.jsx)("div",{className:"mb-2",children:Object(s.jsxs)("label",{className:"form-label",htmlFor:"password-input",children:["Password",Object(s.jsx)("input",{type:"password",className:"form-control-custom",id:"password-input"})]})}),Object(s.jsxs)("div",{className:"mb-3 form-buttons",children:[Object(s.jsx)("button",{type:"submit",className:"btn-custom btn-custom-light btn-block",children:"Register Now"}),Object(s.jsx)("div",{}),Object(s.jsx)("button",{type:"submit",className:"btn-custom btn-custom-dark btn-block",children:"Log In"})]}),Object(s.jsx)("div",{className:"mb-3 form-separator",children:"Or"}),Object(s.jsx)("div",{children:Object(s.jsx)("a",{className:"btn-custom btn-custom-dark btn-block google-log-in",href:"/auth/google",children:"Log In with Google"})})]})]})}),g=(i(63),function(e){Object(p.a)(i,e);var t=Object(f.a)(i);function i(e){var r;return Object(m.a)(this,i),(r=t.call(this,e)).handleEscKey=r.handleEscKey.bind(Object(v.a)(r)),r.handleUnfocus=r.handleUnfocus.bind(Object(v.a)(r)),r.state={initialState:!0,needRestart:!1,promptVisible:!0},r}return Object(b.a)(i,[{key:"componentDidMount",value:function(){var e=this.handleEscKey,t=this.handleUnfocus;document.addEventListener("keydown",e),document.addEventListener("visibilitychange",t)}},{key:"componentWillUnmount",value:function(){var e=this.handleEscKey,t=this.handleUnfocus;document.removeEventListener("keydown",e),document.removeEventListener("visibilitychange",t)}},{key:"handleEscKey",value:function(e){var t=this.props.toggleGame,i=this.state.promptVisible;"Escape"===e.key?(t(),this.setState({promptVisible:!i})):e.preventDefault()}},{key:"handleUnfocus",value:function(){var e=this.props.toggleGame;this.state.promptVisible||"visible"===document.visibilityState||(e(),this.setState({promptVisible:!0}))}},{key:"renderInitialPrompt",value:function(){var e=this,t=this.props.toggleFirstGame,i=this.renderLoginButton();return Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{type:"submit",className:"mb-2 btn-custom btn-custom-light btn-block",onClick:function(){t(),e.setState({initialState:!1,promptVisible:!1})},children:"Play"}),i]})}},{key:"renderPrompt",value:function(){var e=this,t=this.props,i=t.isOver,r=t.toggleGame,a=t.restartGame,n=this.renderLoginButton();return Object(s.jsxs)("div",{children:[i?Object(s.jsx)("h2",{children:"Game Over"}):Object(s.jsx)("button",{type:"submit",className:"mb-2 btn-custom btn-custom-light btn-block",onClick:function(){r(),e.setState({promptVisible:!1})},children:"Resume"}),Object(s.jsx)("button",{type:"submit",className:"mb-2 btn-custom btn-custom-dark btn-block",onClick:function(){a(),e.setState({promptVisible:!1,needRestart:!0})},children:"Restart"}),n]})}},{key:"renderLoginButton",value:function(){var e=this.props.openForm;return e?Object(s.jsx)("button",{type:"submit",className:"btn-custom btn-custom-dark btn-block",onClick:function(){return e()},children:"Log In"}):Object(s.jsx)("a",{className:"btn-custom btn-custom-dark btn-block",href:"/logout",children:"Log Out"})}},{key:"render",value:function(){var e=this.state,t=e.initialState,i=e.promptVisible,r=t?this.renderInitialPrompt():this.renderPrompt();return Object(s.jsx)("div",{className:"game-control-wrap",children:Object(s.jsx)("div",{className:"game-control game-control-".concat(i?"visible":"hidden"),children:r})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isOver&&!t.promptVisible?{promptVisible:!0}:!e.isOver&&t.needRestart?{promptVisible:!1,needRestart:!1}:null}}]),i}(o.a.Component)),x=i(15),w=i.n(x),k=i(17),T=i(18),S=i.n(T),y=i(36),N=i.n(y),G=[[[[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[0,0]]],[[[-1,-1],[0,-1],[-1,0],[0,0]],[[-1,-1],[0,-1],[-1,0],[0,0]],[[-1,-1],[0,-1],[-1,0],[0,0]],[[-1,-1],[0,-1],[-1,0],[0,0]]],[[[-2,0],[-1,0],[0,0],[1,0]],[[0,-1],[0,0],[0,1],[0,2]],[[-2,0],[-1,0],[0,0],[1,0]],[[0,-1],[0,0],[0,1],[0,2]]],[[[-1,0],[0,-1],[0,0],[1,0]],[[0,0],[0,-1],[0,1],[1,0]],[[-1,0],[0,0],[0,1],[1,0]],[[-1,0],[0,-1],[0,1],[0,0]]],[[[-1,0],[-1,-1],[0,0],[1,0]],[[0,0],[0,-1],[0,1],[1,-1]],[[-1,0],[0,0],[1,1],[1,0]],[[-1,1],[0,-1],[0,1],[0,0]]],[[[-1,0],[1,-1],[0,0],[1,0]],[[0,0],[0,-1],[0,1],[1,1]],[[-1,0],[0,0],[-1,1],[1,0]],[[-1,-1],[0,-1],[0,1],[0,0]]],[[[-1,-1],[0,-1],[0,0],[1,0]],[[0,0],[1,-1],[0,1],[1,0]],[[-1,-1],[0,-1],[0,0],[1,0]],[[0,0],[1,-1],[0,1],[1,0]]],[[[-1,0],[0,-1],[0,0],[1,-1]],[[0,0],[0,-1],[1,1],[1,0]],[[-1,0],[0,-1],[0,0],[1,-1]],[[0,0],[0,-1],[1,1],[1,0]]]],A=[[[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0],[0,0,0,0,0]],[[0,0,0,0,0],[0,1,1,0,0],[0,1,1,0,0],[0,0,0,0,0],[0,0,0,0,0]],[[0,0,0,0,0],[0,0,2,0,0],[0,0,2,0,0],[0,0,2,0,0],[0,0,2,0,0]],[[0,0,0,0,0],[0,0,0,0,0],[0,0,3,0,0],[0,3,3,3,0],[0,0,0,0,0]],[[0,0,0,0,0],[0,0,4,0,0],[0,0,4,0,0],[0,4,4,0,0],[0,0,0,0,0]],[[0,0,0,0,0],[0,0,5,0,0],[0,0,5,0,0],[0,0,5,5,0],[0,0,0,0,0]],[[0,0,0,0,0],[0,0,0,0,0],[0,6,6,0,0],[0,0,6,6,0],[0,0,0,0,0]],[[0,0,0,0,0],[0,0,0,0,0],[0,0,7,7,0],[0,7,7,0,0],[0,0,0,0,0]]],R="keydown",H=1e3;function I(e){var t=e,i=t.shift();if(void 0===i)throw new Error("Cannot fetch a new tile from tile array");return t.length<4&&t.push(Math.floor(7*Math.random())+1),{newTile:i,newTiles:t}}function Y(e){var t=[];return e.forEach((function(e){var i=e.map((function(e){return Object(s.jsx)("div",{className:"row-".concat(e)})}));t.push(Object(s.jsx)("div",{className:"tetris-col",children:i}))})),t}!function(e){e[e.Down=0]="Down",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.Rotate=3]="Rotate",e[e.HardDrop=4]="HardDrop",e[e.HoldTile=5]="HoldTile"}(r||(r={})),function(e){e[e.Blank=0]="Blank",e[e.Square=1]="Square",e[e.I=2]="I",e[e.T=3]="T",e[e.J=4]="J",e[e.L=5]="L",e[e.Z=6]="Z",e[e.S=7]="S"}(a||(a={})),function(e){e[e.Up=0]="Up",e[e.Right=1]="Right",e[e.Down=2]="Down",e[e.Left=3]="Left"}(n||(n={}));var L=function(e){var t=e.field,i=e.score,r=e.level,n=e.spawnedTiles,c=e.heldTile,o=e.firstGameStart,l=A,d=Y(t),u=[];n.forEach((function(e){var t=Y(o?l[e]:l[a.Blank]);u.push(t)}));var h=u.map((function(e){return Object(s.jsx)("div",{className:"tetris-next",children:e})})),m=Y(l[c]);return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"tetris-info",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("p",{children:"LEVEL"}),Object(s.jsx)("p",{children:r})]}),Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("p",{children:"SCORE"}),Object(s.jsx)("p",{children:i})]})]})}),Object(s.jsx)("div",{className:"tetris-gamespace",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"tetris-held",children:m})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{className:"tetris-board",children:d})}),Object(s.jsx)("div",{className:"col",children:Object(s.jsx)("div",{children:h})})]})})]})},M=(i(84),function(e){Object(p.a)(i,e);var t=Object(f.a)(i);function i(e){var r;Object(m.a)(this,i),(r=t.call(this,e)).keyboardInputHandle=r.keyboardInputHandle.bind(Object(v.a)(r));var a=r.initNewGame();return r.state={init:a.initGame,gameOver:a.initGameOver,newGameSwitch:e.gameRestart,onHold:a.initOnHold,activeTileX:a.initActiveTileX,activeTileY:a.initActiveTileY,activeGhostTileY:a.initActiveGhostTileY,heldTile:a.initHeldTile,activeTile:a.initActiveTile,activeTileRotate:a.initActiveTileRotate,score:a.initScore,level:a.initLevel,progressSaved:a.initProgressSaved,tileCount:a.initTileCount,timerId:0,field:a.initField,spawnedTiles:a.initSpawnedTiles},r}return Object(b.a)(i,[{key:"componentDidMount",value:function(){var e=this.keyboardInputHandle;document.addEventListener(R,e),this.setGameInterval(H)}},{key:"componentWillUnmount",value:function(){var e=this.keyboardInputHandle,t=this.state.timerId;document.removeEventListener(R,e),window.clearInterval(t)}},{key:"handleNewGameClick",value:function(){var e=this.props,t=e.gameRestart;(0,e.gameState)(!1);var i=this.initNewGame();this.setState((function(){return{init:i.initGame,gameOver:i.initGameOver,newGameSwitch:t,onHold:i.initOnHold,activeTileX:i.initActiveTileX,activeTileY:i.initActiveTileY,activeGhostTileY:i.initActiveGhostTileY,activeTile:i.initActiveTile,heldTile:i.initHeldTile,activeTileRotate:i.initActiveTileRotate,score:i.initScore,level:i.initLevel,progressSaved:i.initProgressSaved,tileCount:i.initTileCount,field:i.initField,spawnedTiles:i.initSpawnedTiles}})),this.setGameInterval(H)}},{key:"handleBoardUpdate",value:function(){var e=Object(k.a)(w.a.mark((function e(t){var i,s,c,o,l,d,u,h,m,b,v,p,f,j,O,g,x,k,T,y,G,A,R,H,Y,L,M,P,C,U,E,D,B,V,F,W,X,J;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.props,s=i.gamePaused,c=i.gameRestart,o=i.gameState,l=i.boardWidth,d=i.userAuth,u=this.state,h=u.init,m=u.gameOver,b=u.newGameSwitch,v=u.onHold,p=u.activeTileX,f=u.activeTileY,j=u.activeGhostTileY,O=u.heldTile,g=u.activeTile,x=u.activeTileRotate,k=u.score,T=u.field,y=u.progressSaved,G=u.spawnedTiles,b===c){e.next=5;break}return this.handleNewGameClick(),e.abrupt("return");case 5:if(!m){e.next=12;break}if(o(!0),!d||y){e.next=11;break}return e.next=10,S.a.put("/api/user/update/scores",JSON.stringify({newScore:{score:k,timestamp:N()().format("MMMM Do, YYYY")}}),{headers:{"Content-Type":"application/json"}});case 10:this.setState({progressSaved:!0});case 11:return e.abrupt("return");case 12:if(!s){e.next=14;break}return e.abrupt("return");case 14:if(A=h,R=v,H=p,Y=f,L=j,M=O,P=g,C=x,U=T,E=G,D=0,B=0,V=0,F=!0,!h){e.next=33;break}return this.renderTile(H,L,P,C,8),this.renderTile(H,Y,P,C,P),this.setState((function(){return{init:!1}})),e.abrupt("return");case 33:this.renderTile(H,L,P,C,0),this.renderTile(H,Y,P,C,0),e.t0=t,e.next=e.t0===r.Left?38:e.t0===r.Right?41:e.t0===r.Rotate?44:e.t0===r.Down?47:e.t0===r.HardDrop?51:e.t0===r.HoldTile?54:56;break;case 38:return D=-1,this.isMoveValid(H,D,Y,0,P,C,0)&&(H+=D),e.abrupt("break",57);case 41:return D=1,this.isMoveValid(H,D,Y,0,P,C,0)&&(H+=D),e.abrupt("break",57);case 44:return V=1,this.isMoveValid(H,0,Y,0,P,C,V)&&(C=C+V===4?n.Up:C+V),e.abrupt("break",57);case 47:return B=1,(F=this.isMoveValid(H,0,Y,B,P,C,0))&&(Y+=B),e.abrupt("break",57);case 51:return Y=L,F=!1,e.abrupt("break",57);case 54:return R||(M!==a.Blank?(W=P,P=M,M=W):(X=I(E),M=P,P=X.newTile,E=X.newTiles),H=Math.floor(l/2),Y=0,C=n.Up,R=!0),e.abrupt("break",57);case 56:return e.abrupt("return");case 57:if(L=this.findGhostTileY(H,Y,P,C),this.renderTile(H,L,P,C,8),this.renderTile(H,Y,P,C,P),F){e.next=73;break}if(void 0!==(J=this.handleBlockedMovement(H,Y,P,C))){e.next=64;break}return e.abrupt("return");case 64:A=J.newInit,H=J.newX,Y=J.newY,P=J.newTile,C=J.newRotate,L=this.findGhostTileY(H,Y,P,C),U=J.newField,E=J.newTiles,R=!0!==R&&R;case 73:if(this.setState((function(){return{init:A,onHold:R,activeTileX:H,activeTileY:Y,activeGhostTileY:L,heldTile:M,activeTile:P,activeTileRotate:C,field:U,spawnedTiles:E}})),F){e.next=77;break}return e.next=77,this.handleBoardUpdate(r.Down);case 77:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleBlockedMovement",value:function(e,t,i,r){for(var a=this.state,s=a.field,c=a.spawnedTiles,o=a.level,l=this.props,d=l.boardWidth,u=l.boardHeight,h=G,m=s,b=0;b<4;b+=1){var v=e+h[i][r][b][0],p=t+h[i][r][b][1];if(p>=0)m[v].lowestY>p&&(m[v].lowestY=p)}for(var f=u-1;f>=0;f-=1){for(var j=!0,O=0;O<d;O+=1)if(0===m[O].colArr[f]){j=!1;break}if(j){for(var g=f;g>0;g-=1)for(var x=0;x<d;x+=1)m[x].colArr[g]=m[x].colArr[g-1];f+=1;for(var w=0;w<d;w+=1)m[w].lowestY!==u-1&&(m[w].lowestY+=1)}}for(var k=I(c),T=k.newTile,S=k.newTiles,y=Math.floor(d/2),N=n.Up,A=!1,R=0;R<4;R+=1){var Y=0+h[T][N][R][1],L=y+h[T][N][R][0];if(Y>=0&&0!==m[L].colArr[Y]){A=!0;break}}if(!A){this.setState((function(e){return{score:e.score+1*e.level,tileCount:e.tileCount+1,level:1+Math.floor(e.tileCount/10)}}));var M=60*o>900?900+.5*o:60*o;return this.setGameInterval(H-M),{newInit:!0,newX:y,newY:0,newTile:T,newRotate:N,newField:m,newTiles:S}}this.setState((function(){return{gameOver:!0}}))}},{key:"setGameInterval",value:function(e){var t=this,i=this.state.timerId;window.clearInterval(i);var a=window.setInterval((function(){return t.handleBoardUpdate(r.Down)}),e);this.setState((function(){return{timerId:a}}))}},{key:"keyboardInputHandle",value:function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.key,e.next="ArrowDown"===e.t0?3:"ArrowLeft"===e.t0?6:"ArrowUp"===e.t0?9:"ArrowRight"===e.t0?12:" "===e.t0?15:"c"===e.t0?18:21;break;case 3:return e.next=5,this.handleBoardUpdate(r.Down);case 5:return e.abrupt("break",21);case 6:return e.next=8,this.handleBoardUpdate(r.Left);case 8:return e.abrupt("break",21);case 9:return e.next=11,this.handleBoardUpdate(r.Rotate);case 11:return e.abrupt("break",21);case 12:return e.next=14,this.handleBoardUpdate(r.Right);case 14:return e.abrupt("break",21);case 15:return e.next=17,this.handleBoardUpdate(r.HardDrop);case 17:return e.abrupt("break",21);case 18:return e.next=20,this.handleBoardUpdate(r.HoldTile);case 20:return e.abrupt("break",21);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isMoveValid",value:function(e,t,i,r,a,s,c){for(var o=this.state.field,l=this.props,d=l.boardWidth,u=l.boardHeight,h=G,m=t?e+t:e,b=r?i+r:i,v=s+c===4?n.Up:s+c,p=0;p<4;p+=1){var f=b+h[a][v][p][1],j=m+h[a][v][p][0],O=j>=0&&j<d;if(f>=0){if(!O||!(f<u))return!1;if(0!==o[j].colArr[f])return!1}else if(!O)return!1}return!0}},{key:"initNewGame",value:function(){for(var e=this.props,t=e.boardWidth,i=e.boardHeight,r=[],s=0;s<5;s+=1){var c=Math.floor(7*Math.random())+1;r.push(c)}for(var o=I(r).newTile,l=n.Up,d=this.prepareGhostTileY(o,l),u=[],h=0;h<t;h+=1){for(var m=[],b=0;b<i;b+=1)m.push(0);var v={colArr:m,lowestY:i-1};u.push(v)}return{initGame:!0,initGameOver:!1,initOnHold:!1,initActiveTileX:Math.floor(t/2),initActiveTileY:0,initActiveGhostTileY:d,initHeldTile:a.Blank,initActiveTile:o,initActiveTileRotate:l,initScore:0,initLevel:1,initProgressSaved:!1,initTileCount:0,initField:u,initSpawnedTiles:r}}},{key:"findGhostTileY",value:function(e,t,i,r){for(var a=this.props,n=a.boardWidth,s=a.boardHeight,c=this.state.field,o=G,l=!1,d=[],u=0;u<4;u+=1){var h=e+o[i][r][u][0],m=t+o[i][r][u][1];if(m>=0)if(h>=0&&h<n&&m<s){var b=c[h].lowestY;if(m>b){l=!0;break}d.includes(b)||d.push(b)}}var v=0;if(l){for(var p=0;this.isMoveValid(e,0,t,p,i,r,0);)p+=1;return v=t+p-1}v=Math.min.apply(null,d)-1-o[i][r][2][1];for(var f=0;this.isMoveValid(e,0,v,1,i,r,0);)v+=1,f+=1;if(0!==f)return v;for(;!this.isMoveValid(e,0,v,0,i,r,0);)v-=1;return v}},{key:"prepareGhostTileY",value:function(e,t){return this.props.boardHeight-1-G[e][t][2][1]}},{key:"renderTile",value:function(e,t,i,r,a){for(var n=this.state.field,s=G,c=n,o=0;o<4;o+=1){var l=e+s[i][r][o][0],d=t+s[i][r][o][1];d>=0&&(c[l].colArr[d]=a)}this.setState((function(){return{field:c}}))}},{key:"render",value:function(){for(var e=this.props,t=e.boardHeight,i=e.boardWidth,r=e.firstGameStart,a=this.state,n=a.score,c=a.level,o=a.heldTile,l=a.field,d=a.spawnedTiles,u=[],h=0;h<t;h+=1){for(var m=[],b=0;b<i;b+=1)m.push(l[b].colArr[h]);u.push(m)}return Object(s.jsx)("div",{className:"game-wrap",children:Object(s.jsx)(L,{field:u,score:n,level:c,spawnedTiles:d,heldTile:o,firstGameStart:r})})}}]),i}(o.a.Component)),P=function(e){Object(p.a)(i,e);var t=Object(f.a)(i);function i(e){var r;return Object(m.a)(this,i),(r=t.call(this,e)).handleFormState=r.handleFormState.bind(Object(v.a)(r)),r.state={formOpened:!1,gamePaused:!0,gameRestart:!1,gameOver:!1,firstGameStart:!1,userAuth:!1},r}return Object(b.a)(i,[{key:"handleFormState",value:function(e){this.setState({formOpened:e.isOpen})}},{key:"render",value:function(){var e=this,t=this.state,i=t.formOpened,r=t.gamePaused,a=t.gameRestart,n=t.gameOver,c=t.firstGameStart,o=t.userAuth;return Object(s.jsxs)("div",{id:"outer-container",children:[Object(s.jsx)(j.scaleDown,{customBurgerIcon:!1,isOpen:i,onStateChange:function(t){return e.handleFormState(t)},outerContainerId:"outer-container",pageWrapId:"game-container",width:"600px",children:Object(s.jsx)(O,{})}),Object(s.jsxs)("div",{id:"game-container",children:[Object(s.jsx)(g,{isOver:n,toggleGame:function(){return e.setState({gamePaused:!r})},restartGame:function(){return e.setState({gamePaused:!1,gameRestart:!a})},openForm:function(){return e.setState({formOpened:!0})},toggleFirstGame:function(){return e.setState({gamePaused:!r,firstGameStart:!0})}}),Object(s.jsx)(M,{boardWidth:14,boardHeight:23,gamePaused:r,gameRestart:a,gameState:function(t){return e.setState({gameOver:t})},firstGameStart:c,userAuth:o})]})]})}}]),i}(o.a.Component),C=function(e){Object(p.a)(i,e);var t=Object(f.a)(i);function i(e){var r;return Object(m.a)(this,i),(r=t.call(this,e)).state={gamePaused:!0,gameRestart:!1,gameOver:!1,firstGameStart:!1,userAuth:!0},r}return Object(b.a)(i,[{key:"render",value:function(){var e=this,t=this.state,i=t.gamePaused,r=t.gameRestart,a=t.gameOver,n=t.firstGameStart,c=t.userAuth;return Object(s.jsx)("div",{id:"outer-container",children:Object(s.jsxs)("div",{id:"game-container",children:[Object(s.jsx)(g,{isOver:a,toggleGame:function(){return e.setState({gamePaused:!i})},restartGame:function(){return e.setState({gamePaused:!1,gameRestart:!r})},toggleFirstGame:function(){return e.setState({gamePaused:!i,firstGameStart:!0})}}),Object(s.jsx)(M,{boardWidth:14,boardHeight:23,gamePaused:i,gameRestart:r,gameState:function(t){return e.setState({gameOver:t})},firstGameStart:n,userAuth:c})]})})}}]),i}(o.a.Component),U=(i(85),function(e){Object(p.a)(i,e);var t=Object(f.a)(i);function i(e){var r;return Object(m.a)(this,i),(r=t.call(this,e)).state={emailAddress:"",displayName:"",profilePic:"",scores:[]},r}return Object(b.a)(i,[{key:"componentDidMount",value:function(){var e=Object(k.a)(w.a.mark((function e(){var t,i,r,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/user/");case 2:return t=e.sent,i=t.data,e.next=6,S.a.get("/api/user/scores");case 6:r=e.sent,a=r.data,this.setState({emailAddress:i.emailAddress,displayName:i.displayName,profilePic:i.profilePic,scores:a.scores});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderScores",value:function(){var e=this.state.scores;return e.length?Object(s.jsxs)("div",{className:"high-score",children:[Object(s.jsx)("p",{className:"mb-4",children:"YOUR HIGH SCORES"}),e.map((function(e){var t=e.score,i=e.timestamp;return Object(s.jsxs)("div",{className:"record",children:[Object(s.jsx)("div",{className:"score",children:t}),Object(s.jsx)("div",{className:"timestamp",children:i})]})}))]}):Object(s.jsx)("div",{})}},{key:"render",value:function(){var e=this.state,t=e.emailAddress,i=e.displayName,r=e.profilePic,a={backgroundImage:"url(".concat(r,")")};return Object(s.jsxs)("div",{className:"profile-card-wrap",children:[Object(s.jsxs)("div",{className:"profile-card",children:[Object(s.jsx)("div",{className:"profile-cl",children:Object(s.jsx)("div",{className:"user-profile-pic",style:a})}),Object(s.jsx)("div",{className:"profile-cl",children:Object(s.jsxs)("div",{className:"user-info",children:[Object(s.jsxs)("div",{className:"mb-2",children:["DISPLAY NAME",Object(s.jsx)("p",{children:i})]}),Object(s.jsxs)("div",{className:"mb-2",children:["EMAIL ADDRESS",Object(s.jsx)("p",{children:t})]})]})})]}),this.renderScores()]})}}]),i}(o.a.Component)),E=function(){return Object(s.jsx)("div",{id:"profile-container",children:Object(s.jsx)(U,{})})},D=function(){return Object(s.jsx)(u.a,{children:Object(s.jsxs)(h.c,{children:[Object(s.jsx)(h.a,{exact:!0,path:"/",children:Object(s.jsx)(P,{})}),Object(s.jsx)(h.a,{exact:!0,path:"/home",children:Object(s.jsx)(C,{})}),Object(s.jsx)(h.a,{exact:!0,path:"/profile",children:Object(s.jsx)(E,{})})]})})};i(89);d.a.render(Object(s.jsx)(D,{}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.58430275.chunk.js.map